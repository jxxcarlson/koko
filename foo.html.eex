
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Noteshare</title>

      <LINK href="/css/asciidoc.css" rel="stylesheet" type="text/css">
      <LINK href="/css/extra.css" rel="stylesheet" type="text/css">
      <script src="/js/asciidoctor/asciidoctor.js/dist/asciidoctor.js"></script>
      <script src="/js/test.js"></script>

      <script>
        var asciidoctor = Asciidoctor();
        var render_asciidoc = function() {
            var content = `<%= Phoenix.HTML.raw(@text) %>`
            document.getElementById('asciidoc').innerHTML = asciidoctor.convert(content.replace( /!!aWz!!/g, '`'));
         }
     </script>

      <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
      </script>

      <script type="text/x-mathjax-config">
         MathJax.Hub.Config({tex2jax: {
           inlineMath: [['$','$'], ['\\(','\\)']],
           processSectionDelay: 0
         }});

          MathJax.Hub.Queue(["Typeset", MathJax.Hub]);

          function typesetNow(){
            console.log("II.  calling MathJax.Hub.Queue ... ")
            MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
          }

          typesetNow()
      </script>

    <!-- IMAGE -->


  </head>

  <body>



    <style>
      #asciidoc {
        font-size:0.9em;
        margin: 1in;
        padding-bottom:4em;
        white-space: normal;
      }
    </style>


    <div id="asciidoc">
      RENDERED CONTENT HERE
    </div>

  </body>

  <script>render_asciidoc() </script>

</html>
